#!/bin/bash
# Stop AeroSpace, SketchyBar, Borders, and SwipeAeroSpace

echo "üõë Stopping Makaron UI components..."
echo ""

# Disable AeroSpace (doesn't quit, just disables window management)
if command -v aerospace &> /dev/null; then
    if pgrep -f "AeroSpace" > /dev/null; then
        echo "  Disabling AeroSpace..."
        aerospace enable off
        echo "  ‚úì AeroSpace disabled"
    else
        echo "  ‚ö†Ô∏è  AeroSpace not running"
    fi
else
    echo "  ‚ö†Ô∏è  AeroSpace not installed"
fi

# Stop SketchyBar service
if command -v sketchybar &> /dev/null; then
    if brew services list | grep -q "sketchybar.*started"; then
        echo "  Stopping SketchyBar..."
        brew services stop sketchybar 2>/dev/null
        echo "  ‚úì SketchyBar stopped"
    else
        echo "  ‚ö†Ô∏è  SketchyBar not running"
    fi
else
    echo "  ‚ö†Ô∏è  SketchyBar not installed"
fi

# Stop Borders service
if command -v borders &> /dev/null; then
    if brew services list | grep -q "borders.*started"; then
        echo "  Stopping Borders..."
        brew services stop borders 2>/dev/null
        echo "  ‚úì Borders stopped"
    else
        echo "  ‚ö†Ô∏è  Borders not running"
    fi
else
    echo "  ‚ö†Ô∏è  Borders not installed"
fi

# Quit SwipeAeroSpace
if [ -d "/Applications/SwipeAeroSpace.app" ]; then
    if pgrep -f "SwipeAeroSpace" > /dev/null; then
        echo "  Quitting SwipeAeroSpace..."
        killall SwipeAeroSpace 2>/dev/null
        echo "  ‚úì SwipeAeroSpace quit"
    else
        echo "  ‚ö†Ô∏è  SwipeAeroSpace not running"
    fi
fi

echo ""
echo "‚úÖ UI components stopped. Use 'makaron-ui-start' to re-enable."

